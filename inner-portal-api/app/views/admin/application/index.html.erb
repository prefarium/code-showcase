<% content_for(:title) do %>
  <%= display_resource_name(page.resource_name) %>
<% end %>

<header class="main-content__header" role="banner">
  <h1 class="main-content__page-title" id="page-title">
    <%= content_for(:title) %>
  </h1>

  <% if defined? @show_archive %>
    <% path_part = controller_name == 'news' ? 'news_index' : controller_name %>
    <%= link_to @switch_to_archive_title, send("admin_#{path_part}_path", show_archive: !@show_archive) %>
  <% end %>

  <% if show_search_bar %>
    <%= render(
          "search",
          search_term:   search_term,
          resource_name: display_resource_name(page.resource_name)
        ) %>
  <% end %>

  <div>
    <%= link_to(
          t(
            "administrate.actions.new_resource",
            name: display_resource_name(page.resource_name, singular: true).downcase
          ),
          [:new, namespace, page.resource_path.to_sym],
          class: "button",
        ) if valid_action?(:new) && show_action?(:new, new_resource) %>
  </div>
</header>

<section class="main-content__body main-content__body--flush">
  <%= render(
        "collection",
        collection_presenter:  page,
        collection_field_name: resource_name,
        page:                  page,
        resources:             resources,
        table_title:           "page-title"
      ) %>

  <%= paginate resources, param_name: '_page' %>
</section>
